<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">

    <title>Tabla Vue</title>
</head>

<body>
    <header>
        <div class="row">
            <div class="col-12 text-center">
                <h1>Mantenedor De Productos</h1>
            </div>
        </div>
    </header>
    <script src="https://unpkg.com/vue@next"></script>
    <main class="container" id="app">
        <div class="border-top mt-4">
            <form id="formulario" class="mt-2 p-3" style=" border:3px aqua dashed; border-radius:20px; ">
                <h4 class="text-center">AÃ±adir un Producto</h4>
                <div class="row mb-3">
                    <label for="txt-nombre" class="col-sm-2 col-form-label">Nombre:</label>
                    <div class="col-sm-8">
                        <input @keyup.enter="addTodo" type="text" v-model="listado.nombre"class="form-control"
                            id="txt-nombre">
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="txt-nombre" class="col-sm-2 col-form-label">Descripcion:</label>
                    <div class="col-sm-8">
                        <input @keyup.enter="addTodo" type="text" v-model="listado.descripcion" class="form-control"
                            id="txt-descripcion">
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="txt-nombre" class="col-sm-2 col-form-label">Precio:</label>
                    <div class="col-sm-8">
                        <input type="int" class="form-control" v-model="listado.precio"id="txt-precio"  >
                        <span v-if="error" class="text-danger">campo requerido</span>
                    </div>
                </div>
            </form>
            <div class="text-center mt-2">

                <button v-on:click="addTodo" type="button" id="registrar" class="btn btn-light"
                    style=" border:3px aqua dashed; border-radius:20px; ">Guardar</button>
            </div>
        </div>
        <div class="card mt-4">
            <div class="card-header">
                <h5>Lista de producto</h5>
            </div>
            <div class="card-body">
                <table class="table table-bordered table-hover">
                    <thead class="table-secondary">
                        <tr>
                            <th>Nombre</th>
                            <th>Descripcion</th>
                            <th>Precio</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="tabla-tbody" class="text-center" v-for="(todo, index) in todos">
                        <tr  >
                            <th >{{todo.nombre}}
                                <input v-else @click="changeStatus(index)" v-if="editIndex ===index"type="text" v-model="editTodo">
                            </th>
                            <th><input v-if="editIndex ===index"type="text" v-model="todo.descripcion">
                                {{todo.descripcion}}</th>
                            <th><input v-if="editIndex ===index"type="text" v-model="todo.precio">
                                {{todo.precio}}
                            </th>
                            <th >
                                <button style=" border:3px aqua dashed; border-radius:20px;" class="btn "
                                    @click="setTodo(index)">Editar</button>
                            </th>
                            <th v-else >
                                <button style=" border:3px aqua dashed; border-radius:20px;" class="btn"
                                    @click="deleteTodo(index)">Eliminar</button>
                            </th>
                            <th v-if="editIndex === index" >
                                    <button class="btn btn-secondary" @click="cancel">Cancelar</button>
                                    <button class="btn btn-success" @click="saveTodo(index)">Guardar</button>
                                
                            </th>
                        </tr>
                    </tbody>
                </table>
                <!--<div>{{todos}}</div>
                <pre>{{$data}}</pre>-->
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>
    <script src="index.js"></script>

</body>

</html>